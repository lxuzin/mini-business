(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[304],{7813:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[id]",function(){return s(7334)}])},7334:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(5893),a=s(7294),l=s(1163);let n=e=>{let{productId:t}=e,[s,l]=(0,a.useState)([]),[n,c]=(0,a.useState)({userName:"",rating:5,comment:""});return(0,a.useEffect)(()=>{let e=localStorage.getItem("reviews");e&&l(JSON.parse(e).filter(e=>e.productId===t))},[t]),(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"리뷰"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s={id:Date.now().toString(),productId:t,userName:n.userName,rating:n.rating,comment:n.comment,createdAt:new Date().toISOString()},r=localStorage.getItem("reviews"),a=[...r?JSON.parse(r):[],s];localStorage.setItem("reviews",JSON.stringify(a)),l(a.filter(e=>e.productId===t)),c({userName:"",rating:5,comment:""})},className:"mb-8 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"이름"}),(0,r.jsx)("input",{type:"text",value:n.userName,onChange:e=>c({...n,userName:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"평점"}),(0,r.jsx)("select",{value:n.rating,onChange:e=>c({...n,rating:parseInt(e.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[1,2,3,4,5].map(e=>(0,r.jsxs)("option",{value:e,children:[e,"점"]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"리뷰 내용"}),(0,r.jsx)("textarea",{value:n.comment,onChange:e=>c({...n,comment:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 h-32",required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"bg-violet-300 text-white px-4 py-2 rounded hover:bg-violet-400 transition-colors",children:"리뷰 작성"})]}),(0,r.jsx)("div",{className:"space-y-4",children:s.length>0?s.map(e=>(0,r.jsxs)("div",{className:"border p-4 rounded",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-semibold",children:e.userName}),(0,r.jsxs)("span",{className:"ml-2 text-yellow-500",children:["★".repeat(e.rating),"☆".repeat(5-e.rating)]})]}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,r.jsx)("p",{className:"text-gray-700",children:e.comment})]},e.id)):(0,r.jsx)("p",{className:"text-gray-500",children:"아직 리뷰가 없습니다."})})]})};function c(){let e=(0,l.useRouter)(),{id:t}=e.query,[s,c]=(0,a.useState)(null);return((0,a.useEffect)(()=>{if(t){let e=localStorage.getItem("products");if(e){let s=JSON.parse(e)[t];s&&c(s)}}},[t]),s)?(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,r.jsx)("img",{src:s.imageUrl,alt:s.name,className:"w-full h-64 object-cover rounded-lg mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold mb-2",children:s.name}),(0,r.jsxs)("p",{className:"text-xl mb-4",children:[s.price.toLocaleString(),"원"]}),(0,r.jsx)("p",{className:"mb-4",children:s.description}),(0,r.jsx)("div",{className:"mb-4",children:s.tags.map((e,t)=>(0,r.jsx)("span",{className:"inline-block bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold mr-2 mb-2",children:e},t))}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>{e.push("/products/".concat(t,"/edit"))},className:"bg-sky-300 text-white px-4 py-2 rounded hover:bg-sky-400 transition-colors",children:"수정"}),(0,r.jsx)("button",{onClick:()=>{let s=localStorage.getItem("products");if(s){let r=JSON.parse(s);delete r[t],localStorage.setItem("products",JSON.stringify(r)),e.push("/products")}},className:"bg-rose-300 text-white px-4 py-2 rounded hover:bg-rose-400 transition-colors",children:"삭제"})]})]}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsx)(n,{productId:t})})]}):(0,r.jsx)("div",{children:"Loading..."})}},1163:function(e,t,s){e.exports=s(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=7813)}),_N_E=e.O()}]);