(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[304],{7813:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[id]",function(){return s(7334)}])},7334:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(5893),r=s(7294),l=s(1163);let n=e=>{let{productId:t}=e,[s,l]=(0,r.useState)([]),[n,c]=(0,r.useState)({userName:"",rating:5,comment:""});return(0,r.useEffect)(()=>{let e=localStorage.getItem("reviews");e&&l(JSON.parse(e).filter(e=>e.productId===t))},[t]),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"리뷰"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s={id:Date.now().toString(),productId:t,userName:n.userName,rating:n.rating,comment:n.comment,createdAt:new Date().toISOString()},a=localStorage.getItem("reviews"),r=[...a?JSON.parse(a):[],s];localStorage.setItem("reviews",JSON.stringify(r)),l(r.filter(e=>e.productId===t)),c({userName:"",rating:5,comment:""})},className:"mb-8 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"이름"}),(0,a.jsx)("input",{type:"text",value:n.userName,onChange:e=>c({...n,userName:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"평점"}),(0,a.jsx)("select",{value:n.rating,onChange:e=>c({...n,rating:parseInt(e.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[1,2,3,4,5].map(e=>(0,a.jsxs)("option",{value:e,children:[e,"점"]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"리뷰 내용"}),(0,a.jsx)("textarea",{value:n.comment,onChange:e=>c({...n,comment:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 h-32",required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"리뷰 작성"})]}),(0,a.jsx)("div",{className:"space-y-4",children:s.length>0?s.map(e=>(0,a.jsxs)("div",{className:"border p-4 rounded",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:e.userName}),(0,a.jsxs)("span",{className:"ml-2 text-yellow-500",children:["★".repeat(e.rating),"☆".repeat(5-e.rating)]})]}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,a.jsx)("p",{className:"text-gray-700",children:e.comment})]},e.id)):(0,a.jsx)("p",{className:"text-gray-500",children:"아직 리뷰가 없습니다."})})]})};function c(){let e=(0,l.useRouter)(),{id:t}=e.query,[s,c]=(0,r.useState)(null);return((0,r.useEffect)(()=>{if(t){let e=localStorage.getItem("products");if(e){let s=JSON.parse(e)[t];s&&c(s)}}},[t]),s)?(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,a.jsx)("img",{src:s.imageUrl,alt:s.name,className:"w-full h-64 object-cover rounded-lg mb-4"}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:s.name}),(0,a.jsxs)("p",{className:"text-xl mb-4",children:[s.price.toLocaleString(),"원"]}),(0,a.jsx)("p",{className:"mb-4",children:s.description}),(0,a.jsx)("div",{className:"mb-4",children:s.tags.map((e,t)=>(0,a.jsx)("span",{className:"inline-block bg-gray-200 dark:bg-gray-700 rounded-full px-3 py-1 text-sm font-semibold mr-2 mb-2",children:e},t))}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{e.push("/products/".concat(t,"/edit"))},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors",children:"수정"}),(0,a.jsx)("button",{onClick:()=>{let s=localStorage.getItem("products");if(s){let a=JSON.parse(s);delete a[t],localStorage.setItem("products",JSON.stringify(a)),e.push("/products")}},className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition-colors",children:"삭제"})]})]}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsx)(n,{productId:t})})]}):(0,a.jsx)("div",{children:"Loading..."})}},1163:function(e,t,s){e.exports=s(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=7813)}),_N_E=e.O()}]);