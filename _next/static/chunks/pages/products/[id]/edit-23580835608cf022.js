(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[162],{7516:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products/[id]/edit",function(){return r(7845)}])},2018:function(e,t,r){"use strict";r.d(t,{y:function(){return l}});var a=r(5893),s=r(7294);let l=e=>{let{productName:t,onPriceRecommended:r}=e,[l,n]=(0,s.useState)(!1),[u,d]=(0,s.useState)(null),o=async()=>{n(!0),d(null);try{await new Promise(e=>setTimeout(e,1500)),r(Math.floor(Math.floor(45e4*Math.random()+5e4)*(Math.random()*(1.2-.8)+.8)))}catch(e){d("가격 추천을 가져오는 중 오류가 발생했습니다.")}finally{n(!1)}};return(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("button",{onClick:o,disabled:l,className:"px-4 py-2 rounded ".concat(l?"bg-gray-400 cursor-not-allowed":"bg-green-500 hover:bg-green-600 dark:bg-green-600 dark:hover:bg-green-700"," text-white transition-colors"),children:l?"가격 분석 중...":"AI 가격 추천받기"}),u&&(0,a.jsx)("p",{className:"mt-2 text-red-500 dark:text-red-400 text-sm",children:u})]})}},4245:function(e,t,r){"use strict";r.d(t,{E:function(){return l}});var a=r(5893),s=r(7294);let l=e=>{let{tags:t,onChange:r}=e,[l,n]=(0,s.useState)(""),u=()=>{let e=l.trim();e&&!t.includes(e)&&(r([...t,e]),n(""))},d=e=>{r(t.filter((t,r)=>r!==e))};return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 p-2 border rounded-lg dark:border-gray-700 bg-white dark:bg-gray-800 min-h-[42px]",children:[t.map((e,t)=>(0,a.jsxs)("span",{className:"flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-100 rounded",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>d(t),className:"text-blue-600 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-100",children:"\xd7"})]},t)),(0,a.jsx)("input",{type:"text",value:l,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"===e.key||","===e.key?(e.preventDefault(),u()):"Backspace"===e.key&&!l&&t.length>0&&d(t.length-1)},onBlur:u,placeholder:0===t.length?"태그 입력 (쉼표 또는 엔터로 구분)":"",className:"flex-grow min-w-[120px] outline-none bg-transparent dark:text-white"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"쉼표 또는 엔터를 눌러 태그를 추가하세요"})]})}},7845:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var a=r(5893),s=r(7294),l=r(1163),n=r(4245),u=r(2018);function d(){let e=(0,l.useRouter)(),{id:t}=e.query,[r,d]=(0,s.useState)(null),[o,i]=(0,s.useState)(""),[c,m]=(0,s.useState)(""),[x,b]=(0,s.useState)(""),[g,p]=(0,s.useState)(""),[h,f]=(0,s.useState)([]);return((0,s.useEffect)(()=>{if(t){let e=localStorage.getItem("products");if(e){let r=JSON.parse(e)[t];r&&(d(r),i(r.name),m(r.price.toString()),b(r.imageUrl),p(r.description),f(r.tags))}}},[t]),r)?(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"상품 수정"}),(0,a.jsxs)("form",{onSubmit:r=>{r.preventDefault();let a=localStorage.getItem("products");if(a&&t){let r=JSON.parse(a);r[t]={id:parseInt(t),name:o,price:parseFloat(c),imageUrl:x,description:g,tags:h},localStorage.setItem("products",JSON.stringify(r)),e.push("/products")}},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"상품명"}),(0,a.jsx)("input",{type:"text",value:o,onChange:e=>i(e.target.value),className:"w-full p-2 border rounded dark:bg-gray-700",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"가격"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"number",value:c,onChange:e=>m(e.target.value),className:"w-full p-2 border rounded dark:bg-gray-700",required:!0}),(0,a.jsx)(u.y,{productName:o,onPriceRecommended:e=>m(e.toString())})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"이미지 URL"}),(0,a.jsx)("input",{type:"url",value:x,onChange:e=>b(e.target.value),className:"w-full p-2 border rounded dark:bg-gray-700",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"설명"}),(0,a.jsx)("textarea",{value:g,onChange:e=>p(e.target.value),className:"w-full p-2 border rounded dark:bg-gray-700",rows:4,required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"태그"}),(0,a.jsx)(n.E,{tags:h,onChange:f})]}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors",children:"수정하기"})]})]}):(0,a.jsx)("div",{children:"Loading..."})}},1163:function(e,t,r){e.exports=r(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=7516)}),_N_E=e.O()}]);